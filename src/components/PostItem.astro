---
import { slugify } from '../utils';
import FormattedDate from './FormattedDate.astro';
import type { CollectionEntry } from 'astro:content';

type BlogPost = CollectionEntry<'blog'>;
const { post }: Record<string, any> | { post: BlogPost } = Astro.props
---
<div class='flex flex-col sm:flex-row gap-2 sm:items-center py-4 mb-3 px-4 capitalize 
            bg-gray-900/40 dark:bg-gray-800/60 rounded-xl border border-purple-400/30 
            shadow-md transition-all duration-300 hover:shadow-[0_0_20px_rgba(147,51,234,0.4)] 
            hover:border-purple-400/50'>        
  <div class='text-purple-400 text-sm w-24 shrink-0 font-mono'>
    <FormattedDate date={post.data.pubDate} />
  </div>
  <h3 class='font-medium grow text-gray-200 dark:text-gray-100'>
    <a href={`/${post.id}/`} class='hover:text-purple-400 transition-colors duration-300'>
      {post.data.title}
    </a>
  </h3>
  <div class='flex gap-2 shrink-0 flex-wrap'>
    {
      (post.data.tags || [] )?.map((tag: string) => (
        <a
          class='border border-purple-400/40 dark:border-purple-400/40 rounded-lg
          text-sm text-purple-300 dark:text-purple-300 no-underline px-3 py-1
          transition-all duration-300 bg-gray-800/50
          hover:bg-purple-400/20 hover:border-purple-400 hover:shadow-[0_0_10px_rgba(147,51,234,0.3)]'
          href={`/tags/${slugify(tag)}`}>
          #{tag}
        </a>
      ))
    }
  </div>
</div>